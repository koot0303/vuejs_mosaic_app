(function(){"use strict";var t={112:function(t,e,n){var a=n(751),i=n(641),o=n(33);const r={class:"app"},l={key:0},s={for:"mosaic-slider"},c={ref:"canvas",style:{"max-width":"100%"}},u=["disabled"];function d(t,e,n,d,f,h){return(0,i.uX)(),(0,i.CE)("div",r,[e[4]||(e[4]=(0,i.Lk)("h1",{class:"title"},"画像モザイクフィルタ",-1)),(0,i.Lk)("input",{type:"file",onChange:e[0]||(e[0]=(...t)=>h.handleImageUpload&&h.handleImageUpload(...t)),accept:"image/*"},null,32),f.originalImage?((0,i.uX)(),(0,i.CE)("div",l,[(0,i.Lk)("label",s,"モザイク強度: "+(0,o.v_)(f.blockSize),1),(0,i.bo)((0,i.Lk)("input",{id:"mosaic-slider",type:"range",min:"5",max:"100",step:"5","onUpdate:modelValue":e[1]||(e[1]=t=>f.blockSize=t),onInput:e[2]||(e[2]=(...t)=>h.applyMosaic&&h.applyMosaic(...t))},null,544),[[a.Jo,f.blockSize]])])):(0,i.Q3)("",!0),(0,i.Lk)("canvas",c,null,512),(0,i.Lk)("button",{disabled:!f.originalImage,onClick:e[3]||(e[3]=(...t)=>h.downloadImage&&h.downloadImage(...t))},"画像をダウンロード",8,u),e[5]||(e[5]=(0,i.Lk)("p",{id:"GitHubURL"},[(0,i.Lk)("a",{href:"https://github.com/koot0303/vuejs_mosaic_app"},"GitHub")],-1))])}var f={data(){return{originalImage:null,blockSize:10}},methods:{handleImageUpload(t){const e=t.target.files[0];if(!e)return;const n=new FileReader;n.onload=t=>{const e=new Image;e.onload=()=>{this.originalImage=e;const t=this.$refs.canvas;t.width=e.width,t.height=e.height,this.applyMosaic()},e.src=t.target.result},n.readAsDataURL(e)},applyMosaic(){if(!this.originalImage)return;const t=this.$refs.canvas,e=t.getContext("2d");e.drawImage(this.originalImage,0,0,t.width,t.height);const n=e.getImageData(0,0,t.width,t.height),a=n.data,i=parseInt(this.blockSize);for(let o=0;o<t.height;o+=i)for(let e=0;e<t.width;e+=i){const n=4*(o*t.width+e),r=a[n],l=a[n+1],s=a[n+2];for(let c=0;c<i;c++)for(let n=0;n<i;n++){const i=e+n,u=o+c;if(i<t.width&&u<t.height){const e=4*(u*t.width+i);a[e]=r,a[e+1]=l,a[e+2]=s}}}e.putImageData(n,0,0)},downloadImage(){const t=this.$refs.canvas,e=document.createElement("a");e.download="mosaic_image.png",e.href=t.toDataURL("image/png"),e.click()}}},h=n(262);const p=(0,h.A)(f,[["render",d]]);var g=p;(0,a.Ef)(g).mount("#app")}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var o=e[a]={exports:{}};return t[a](o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,a,i,o){if(!a){var r=1/0;for(u=0;u<t.length;u++){a=t[u][0],i=t[u][1],o=t[u][2];for(var l=!0,s=0;s<a.length;s++)(!1&o||r>=o)&&Object.keys(n.O).every((function(t){return n.O[t](a[s])}))?a.splice(s--,1):(l=!1,o<r&&(r=o));if(l){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[a,i,o]}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,o,r=a[0],l=a[1],s=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(s)var u=s(n)}for(e&&e(a);c<r.length;c++)o=r[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(u)},a=self["webpackChunkvuejs_mosaic_app"]=self["webpackChunkvuejs_mosaic_app"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(112)}));a=n.O(a)})();
//# sourceMappingURL=app.246fbb22.js.map